<div class="d-flex justify-content-center my-5">
  <div class="row w-50">
    <div class="col-3 d-flex align-items-center">
      <div>*必填欄位</div>
    </div>
    <div class="col-9 d-flex justify-content-center">
      <div class="btn-lg btn btn-outline-secondary text-secondary p-2">請輸入你的支出</div>
    </div>
  </div>
</div>

<form action="/records" method="POST" novalidate class="needs-validation">

  {{!-- expense name --}}
  <div class="d-flex justify-content-center my-5">
    <div class="row w-50">

      <div class="col-3 d-flex align-items-center">
        <label for="name" class="m-1">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="ms-2">名稱* :</span>
        </label>
      </div>

      <div class="col-9">
        <input id="name" class="form-control" type="text" placeholder="支出名稱" name="name" required />

        <div class="valid-feedback">
          <span class="d-flex justify-content-center">Looks good!</span>
        </div>
        <div class="invalid-feedback">
          <span class="d-flex justify-content-center">支出名稱必填</span>
        </div>
      </div>

    </div>
  </div>

  {{!-- expense date --}}
  <div class="d-flex justify-content-center mb-5">
    <div class="row w-50">
      <div class="col-3 d-flex align-items-center">
        <label for="date" class="m-1">
          <i class="fa-solid fa-calendar-days"></i>
          <span class="ms-2">日期* :</span>
        </label>
      </div>

      <div class="col-9">
        <input id="date" class="form-control" type="date" name="date" value="{{today}}" required />

        <div class="valid-feedback">
          <span class="d-flex justify-content-center">Looks good!</span>
        </div>

        <div class="invalid-feedback">
          <span class="d-flex justify-content-center">日期必選</span>
        </div>
      </div>
    </div>
  </div>

  {{!-- expense category --}}
  <div class="d-flex justify-content-center mb-5">
    <div class="row w-50">
      <div class="col-3 d-flex align-items-center">
        <label for="categoryId" class="m-1">
          <i class="fa-solid fa-chart-pie"></i>
          <span class="ms-2">類別* :</span>
        </label>
      </div>

      <div class="col-9">
        <select class="form-select form-select-lg " name="categoryId" id="categoryId" required>
          <option value="" selected>Select</option>
          <option value="1">家居物業</option>
          <option value="2">交通出行</option>
          <option value="3">休閒娛樂</option>
          <option value="4">餐飲食品</option>
          <option value="5">其他</option>
        </select>
        <div class="valid-feedback">
          <span class="d-flex justify-content-center">Looks good!</span>
        </div>

        <div class="invalid-feedback">
          <span class="d-flex justify-content-center">類別必選</span>
        </div>
      </div>
    </div>
  </div>

  {{!-- expense amount --}}
  <div class="d-flex justify-content-center mb-5">
    <div class="row w-50">
      <div class="col-3 d-flex align-items-center">
        <label for="amount" class="m-1">
          <i class="fa-solid fa-hand-holding-dollar"></i>
          <span class="ms-2">金額* :</span>
        </label>
      </div>

      <div class="col-9">
        <input id="amount" class="form-control" type="number" placeholder="123" name="amount" required />

        <div class="valid-feedback">
          <span class="d-flex justify-content-center">Looks good!</span>
        </div>
        <div class="invalid-feedback">
          <span class="d-flex justify-content-center">金額必填</span>
        </div>
      </div>
    </div>
  </div>

  {{!-- create btn for POST /records --}}
  <div class="d-flex justify-content-center mb-5">
    <div class="w-50 row d-flex flex-row-reverse">
      <div class="col-9">
        <button type="submit" class="form-control btn btn-info btn-lg">新增支出</button>
      </div>
    </div>
  </div>

</form>

<script>
  (function () {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.prototype.slice.call(forms)
      .forEach((form) => {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) { // verify fallaciously
            // prevent form submit
            event.preventDefault()
            event.stopPropagation()
          }
          // need to add "was-validated" class to <form>
          // to show valid-feedback string
          // or invalid-feedback string
          form.classList.add('was-validated')
        }, false)
      })
  })()

</script>